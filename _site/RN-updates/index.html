<!DOCTYPE html>
<html>
<link href='https://fonts.googleapis.com/css?family=Megrim' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Montserrat+Alternates' rel='stylesheet' type='text/css'>
  <head>
    <title>RN updates – Christopher Salam – thoughts on software and engineering</title>

        <meta charset="utf-8" />
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'>

    
    <meta name="description" content="In this update, I will discuss how we used scrollview and javascript to create a populating list that voted in a nested tree for our React Native and Firebase project. We probably could have used ListView, but were able to make this quickly work and decided to stick with it. We&#39;ll go through the entire setup and talk about each of the parts. 
" />
    <meta property="og:description" content="In this update, I will discuss how we used scrollview and javascript to create a populating list that voted in a nested tree for our React Native and Firebase project. We probably could have used ListView, but were able to make this quickly work and decided to stick with it. We&#39;ll go through the entire setup and talk about each of the parts. 
" />
    
    <meta name="author" content="Christopher Salam" />

    
    <meta property="og:title" content="RN updates" />
    <meta property="twitter:title" content="RN updates" />
    
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="alternate" type="application/rss+xml" title="Christopher Salam - thoughts on software and engineering" href="/feed.xml" />
  </head>

  <body>
    <div class="wrapper-masthead">
      <div class="container">
        <header class="masthead clearfix">
          <a href="/" class="site-avatar"><img src='chrissalam.jpg' /></a>

          <div class="site-info">
            <h1 class="site-name"><a href="/">Christopher Salam</a></h1>
            <p class="site-description">thoughts on software and engineering</p>
          </div>

          <nav>
            <!--<a href="/">Posts</a>-->
            <a href="/tags">:Topic</a>
<!--             <a href="http://christophersalam.github.io">About</a> -->
            <a href="/about">About</a>
            <a href="http://chrissalam.com/slideshow" target="_blank">Slideshow</a>
          </nav>
        </header>
      </div>
    </div>

    <div id="main" role="main" class="container">
      <article class="post">
  <h1 class="center-align">RN updates</h1>
  <div class="center-align"><div class="post-tags">
  Tags:
  
    
  
  
  <a href="/tags/#react">react</a>,
  
  <a href="/tags/#reactnative">reactnative</a>,
  
  <a href="/tags/#firebase">firebase</a>,
  
  <a href="/tags/#javascript">javascript</a>
  
</div></div>

  <div class="date">
    Written on September 19, 2015
  </div>

  <div class="entry">
    <p>In this update, I will discuss how we used scrollview and javascript to create a populating list that voted in a nested tree for our React Native and Firebase project. We probably could have used ListView, but were able to make this quickly work and decided to stick with it. We&#39;ll go through the entire setup and talk about each of the parts. </p>

<p><img src="Friends.png"/></p>

<p>The final result is this screen shown above, in our program a place you can look up your friend and vote on their qualities, with your unique facebook ID as the key and true as the value. Let&#39;s start at the very beginning of this page. We are going to leave out the tab bar and other parts of this phone and the facebook image and just focus on the listview since that&#39;s where Firebase is involved.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="s1">&#39;use strict&#39;</span><span class="p">;</span>

<span class="cm">/*===============================||</span>
<span class="cm">||   Required sources            ||</span>
<span class="cm">||===============================*/</span>

<span class="kd">var</span> <span class="nx">React</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;react-native&#39;</span><span class="p">),</span>
  <span class="nx">styles</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;./styles&#39;</span><span class="p">),</span>
  <span class="nx">person</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;./PersonDB&#39;</span><span class="p">),</span>
  <span class="nx">Firebase</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;firebase&#39;</span><span class="p">),</span>
  <span class="nx">ref</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Firebase</span><span class="p">(</span><span class="nx">url</span><span class="p">),</span>
  <span class="nx">tallyNav</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;./tallyNav&#39;</span><span class="p">),</span>
  <span class="nx">personRef</span><span class="p">;</span>
</code></pre></div>
<p>We should start every bit of code with &#39;use strict&#39;. 
tallyNav is another option menu with votes tallied up.
The main thing to note here is that we reference the database here with &#39;ref&#39;.
personRef is nested to individuals, or leaf nodes within &#39;ref&#39;.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="cm">/*================================||</span>
<span class="cm">||   React native variables,      ||</span>
<span class="cm">||   used as inline tags          ||</span>
<span class="cm">||================================*/</span>

<span class="kd">var</span> <span class="p">{</span>
 <span class="nx">View</span><span class="p">,</span>
 <span class="nx">ScrollView</span><span class="p">,</span>
 <span class="nx">Text</span><span class="p">,</span>
 <span class="nx">Image</span><span class="p">,</span>
 <span class="nx">TouchableHighlight</span><span class="p">,</span>
 <span class="nx">TouchableOpacity</span><span class="p">,</span>
 <span class="nx">Component</span>
<span class="p">}</span> <span class="o">=</span> <span class="nx">React</span><span class="p">;</span>
</code></pre></div>
<p>Here we declare the components needed for React and React Native components in this section. I&#39;ll get to the bones of this after Github Universe.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="cm">/*================================||</span>
<span class="cm">||   Each list item and quality   ||</span>
<span class="cm">||================================*/</span>

<span class="kd">var</span> <span class="nx">indents</span> <span class="o">=</span> <span class="p">[],</span>
  <span class="nx">qualities</span> <span class="o">=</span> <span class="p">[</span>
  <span class="s2">&quot;baller&quot;</span><span class="p">,</span>
  <span class="s2">&quot;leader&quot;</span><span class="p">,</span>
  <span class="s2">&quot;performer&quot;</span><span class="p">,</span>
  <span class="s2">&quot;teacher&quot;</span><span class="p">...</span> 
  <span class="p">]</span>

<span class="cm">/*================================||</span>
<span class="cm">||   This menu each button to     ||</span>
<span class="cm">||   hit the specific quality     ||</span>
<span class="cm">||   Use null to remove items     ||</span>
<span class="cm">||   or true to add items         ||</span>
<span class="cm">||================================*/</span>

<span class="p">...</span>
</code></pre></div>
<p>Huge update coming... promise! It&#39;s being prepared in comments.</p>

<!--

class FeaturedNav extends Component {

  getInitialState() {
    return {
      opacity: 0.2,
    }
  }

  render() {
    window.FeaturedNav = this;
    person.shuffle(qualities);
    this.getTraits();
    return (
      <View style={styles.featNavContainer}>
        <Image source= style=>
          <TouchableHighlight underlayColor='transparent'
            onPress={()=>{ console.log("See your friend's stats")
              this.props.navigator.push({
                title: 'Stats for '+ person.name,
                component: tallyNav,
                leftButtonTitle: 'Back',
                onLeftButtonPress: () => this.props.navigator.pop(),
            })
          }}>
            <Image source=
                 style=>
              <View style={styles.navOverlay}>
                <Text style={styles.navChoiceText}>see stats!</Text>
              </View>
            </Image>
          </TouchableHighlight>
            <ScrollView
              onScroll={() => { console.log('onScroll!'); }}
              scrollEventThrottle={200}
              contentInset=
              style={styles.scrollView}>
              {indents}
            </ScrollView>
        </Image>
      </View>
    );
  }
  getTraits(){
    personRef = ref.child("pond").child(person.id);
    for (var i = 0; i < qualities.length; i++) {
      var vote = {};
      vote[window.Katfish.userID] = true;
      (function runIt(variable){
        indents.push(
          <TouchableHighlight style={styles.featNavButton}
          underlayColor={'rgba(200,28,78,0.2)'}
          onPress={()=>{
            personRef.child(variable).update(vote)
            qualities.splice(qualities.indexOf(vote),1);
          }}>
            <Text style={styles.featNavButtonText}>{qualities[i]}</Text>
          </TouchableHighlight>);
      })(qualities[i])
    }
  }
}

module.exports = FeaturedNav;

-->

<p><strong>This is a stub... there&#39;s more to come</strong></p>

  </div>

  
</article>

    </div>

    <div class="wrapper-footer">
      <div class="container">
        <footer class="footer">
          
<a href="mailto:christopher.salam@gmail.com"><i class="svg-icon email"></i></a>
<a href="https://www.facebook.com/mrsalam@ucdavis.edu"><i class="svg-icon facebook"></i></a>

<a href="https://github.com/ChristopherSalam"><i class="svg-icon github"></i></a>

<a href="https://www.linkedin.com/in/christophersalam"><i class="svg-icon linkedin"></i></a>






        </footer>
      </div>
    </div>
    

  </body>
</html>
